<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bekijk Quiz</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="logo-container">
    <div class="logo_img">
        <img src="images/i_lab.png" alt="I-lab logo" style="width: 80px;">
    </div>

    <div class="link">
        <a href="Dashboard.html">Terug naar Dashboard</a>
        <a href="QuizMaken.html">Quiz Aanmaken</a>
    </div>
</div>

<div class="main-content">
    <h2>Bekijk en Start Quiz</h2>

    <!-- Dynamisch gegenereerde Quiz knoppen -->
    <div class="available-quizzes">
        <h3>Beschikbare Quizzen</h3>
        <div id="quizButtonsContainer">
            <!-- Dynamisch gegenereerde quiz buttons komen hier -->
        </div>
    </div>

    <!-- Display geselecteerde quiz en bijbehorende 5-cijferige code -->
    <div id="selectedQuizInfo" style="display:none;">
        <h4>Geselecteerde Quiz:</h4>
        <p id="quizNameDisplay"></p>
        <p id="quizCodeDisplay"></p>
    </div>
</div>

<script>
    // Functie om een random 5-cijferige code te genereren
    function generateRandomCode() {
        return Math.floor(10000 + Math.random() * 90000); // 5-cijferige code
    }

    // Functie om de lijst van opgeslagen quizzen te laden
    function loadQuizzes() {
        let quizzes = JSON.parse(localStorage.getItem('quizzes')) || [];
        const quizButtonsContainer = document.getElementById('quizButtonsContainer');
        quizButtonsContainer.innerHTML = ''; // Clear existing quiz buttons

        quizzes.forEach((quiz, index) => {
            // Toevoegen van quiz buttons
            const button = document.createElement('button');
            button.classList.add('quiz-button');
            button.textContent = `Kies ${quiz.name}`;
            button.addEventListener('click', () => selectQuiz(quiz));
            quizButtonsContainer.appendChild(button);
        });
    }

    // Functie om een quiz te selecteren
    function selectQuiz(quiz) {
        const randomCode = generateRandomCode();
        document.getElementById('quizNameDisplay').textContent = `Quiz: ${quiz.name}`;
        document.getElementById('quizCodeDisplay').textContent = `Code: ${randomCode}`;

        // Toon de geselecteerde quiz informatie
        document.getElementById('selectedQuizInfo').style.display = 'block';
    }

    // Functie om een quiz te verwijderen
    function deleteQuiz(index) {
        let quizzes = JSON.parse(localStorage.getItem('quizzes')) || [];
        quizzes.splice(index, 1); // Verwijder de quiz op de gegeven index
        localStorage.setItem('quizzes', JSON.stringify(quizzes)); // Sla de bijgewerkte lijst op
        loadQuizzes(); // Laad de lijst van quizzen opnieuw
    }

    // Laad quizzen bij het laden van de pagina
    window.onload = loadQuizzes;

</script>

</body>
</html>
